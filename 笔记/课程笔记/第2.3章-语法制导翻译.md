---
date: 2025-10-09
---
回顾编译的阶段：
![[Pasted image 20251009152821.png]]
其中语义分析和中间代码生成两部分通常一起实现，称为“语义翻译”
而语义翻译过程又可以和语法分析过程合并，称为“语法制导翻译”

## 语法制导翻译的基本思路

那么问题来了：
1. 如何表示语义信息？给CFG中的文法符号设置语义属性（如变量的类型、数值等等），用来表示对应语法成分的语义信息
2. 如何计算语义属性？文法符号的语义属性值是用与文法符号所在产生式 (**语法规则**) 相关联的**语义规则**来计算的。对于给定的输入串 $x$，构建 $x$ 的语法分析树，并利用与产生式 (**语法规则**) 相关联的**语义规则**来计算分析树中各**结点对应的语义属性值**。

将语义规则和语法规则练习起来，要涉及两个概念：
- 语法制导定义SDD
- 语法制导翻译方案SDT

$E \rightarrow E_1 || M$
## 语法制导定义

SDD是CFG的推广：
* 将每个**文法符号**和一个**语义属性集合**相关联
* 将每个**产生式**和**一组语义规则**相关联，这些规则用于计算该产生式中各文法符号的属性值

例子：
变量声明语句的CFG
![[Pasted image 20251009153806.png]]
`T` 表示类型，右部为 `int`，则设置 `T.type` 为 `int`。以此类推。
L和L1表示的是同一个非终结符，下标仅作为区分。第四条产生式（语义规则）可以看出，`L1`的`inh`属性继承于`L`的inh属性。