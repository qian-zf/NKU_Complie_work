---
date: 2025-11-17
---
自底向上分析：从分析树的底部向顶部构造分析树，可以看作将输入串规约成开始符号的过程。

采用最左规约的方式进行规约，通用框架为移入-规约分析。

每一步规约中都需要做两个选择：
- 选择当前分析树中尚未规约的**最左侧的终结符串**
- 选择一个**产生式**来规约该终结符串

例子：
![[Pasted image 20251118105240.png]]
栈内符号串+剩余输入=规范句型

分析过程：
对输入串进行从左到右的扫描，遇到一个符号就将其移入栈中，直到栈顶的符号串能用某个产生式的右部进行规约为止，然后进行规约操作。


> [!NOTE] 概念回顾
> **句型（sentential form）** 是从开始符号经过若干步产生式替换得到的**任意符号串**，符号串可以包含终结符也可以包含非终结符。例如从开始符号 S 经若干替换得到的任意串都叫句型。若这串是在每一步都用最右侧非终结符展开（即做右推导）得到的，就称为右句型（right-sentential form）。
> 
> **句柄（handle）** 是句型中的一个子串，其定义可以这样理解：在某个右句型 w 中，句柄是恰好可以用某条产生式 A → β 归约的那段子串 β，归约它为 A 会得到前一步的右句型。换句话说，句柄就是逆转某个右推导步骤时需要“立刻”归约的那段子串；在逆向重建右推导（即自底向上的移入/规约解析）过程中，每次**要归约的目标就是当前句型的句柄**。

## 移入-规约分析的问题

如何选择正确的句柄？
- 在每一步规约中，可能会有多个候选句柄和多个产生式可以选择
- 如果选择错误，就会导致后续无法继续规约，最终无法规约到开始符号

例如产生式：
IDS->IDS, i
IDS->i
当栈中为 IDS , i 时，既可以选择用 IDS->IDS, i 规约，也可以选择用 IDS->i 规约。如果选择错误，就会导致后续无法继续规约，最终无法规约到开始符号。

为了解决这个问题，就引出了LR分析方法。

[[第4.5章-LR文法概述]]